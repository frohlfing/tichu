<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tichu Online</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/icon.png" type="image/png">
</head>
<body>
    <!-- Ladebildschirm -->
    <div id="loading-screen" class="view">
        <img src="images/logo.png" alt="Logo" class="logo">
        <p>Verbinde...</p>
        <img src="images/spinner.png" alt="Laden..." class="spinner">
    </div>

    <!-- Login-Bildschirm -->
    <div id="login-screen" class="view">
        <div class="login-background"></div>
        <h1>Tichu</h1>
        <form id="login-form">
            <input type="text" id="player-name" title="" placeholder="Dein Name" required/>
            <input type="text" id="table-name" title="" placeholder="Tischname" required/>
            <button type="submit">Betreten</button>
        </form>
    </div>

    <!-- Lobby-Bildschirm -->
    <div id="lobby-screen" class="view">
        <h2>Lobby: <span id="lobby-table-name"></span></h2>
        <div id="player-list-container">
            <p>Spieler am Tisch:</p>
            <ul id="lobby-player-list"></ul>
        </div>
        <div id="team-assignment-container" class="hidden">
            <p>Spieler anordnen (Host):</p>
            <button id="start-game-button">Spiel starten</button>
        </div>
        <button id="leave-lobby-button">Beenden</button>
    </div>

    <!-- Spieltisch-Bildschirm -->
    <div id="game-table-screen" class="view">
        <div class="top-bar">
            <button id="end-game-button" class="game-button">Beenden</button>
            <div id="score-display">Team Wir: 0000 | Team Die: 0000</div>
            <button id="options-button" class="game-button">Optionen</button>
        </div>
        <div class="table-area">
            <div class="player-area player-top" id="player-area-2">
                <div class="player-info"><span class="player-name">Partner</span><span class="card-count">0</span><img src="images/tichu-indicator.png" class="tichu-indicator hidden" alt="T"><img src="images/turn-indicator.png" class="turn-indicator hidden" alt="*"></div>
                <div class="hand opponent-hand" id="player-2-hand"></div>
            </div>
            <div class="player-area player-left" id="player-area-3">
                 <div class="player-info"><span class="player-name">Gegner L.</span><span class="card-count">0</span><img src="images/tichu-indicator.png" class="tichu-indicator hidden" alt="T"><img src="images/turn-indicator.png" class="turn-indicator hidden" alt="*"></div>
                <div class="hand opponent-hand" id="player-3-hand"></div>
            </div>
            <div class="player-area player-right" id="player-area-1">
                <div class="player-info"><span class="player-name">Gegner R.</span><span class="card-count">0</span><img src="images/tichu-indicator.png" class="tichu-indicator hidden" alt="T"><img src="images/turn-indicator.png" class="turn-indicator hidden" alt="*"></div>
                <div class="hand opponent-hand" id="player-1-hand"></div>
            </div>
            <div class="center-table">
                <div id="played-cards-pile-player-0" class="played-cards-pile"></div>
                <div id="played-cards-pile-player-1" class="played-cards-pile"></div>
                <div id="played-cards-pile-player-2" class="played-cards-pile"></div>
                <div id="played-cards-pile-player-3" class="played-cards-pile"></div>
                <img src="images/wish-indicator.png" id="wish-indicator" class="hidden" alt="Wunsch">
            </div>
            <div class="schupf-zones hidden">
                <div class="schupf-zone" id="schupf-zone-opponent-right" data-target-player-relative="1">R</div>
                <div class="schupf-zone" id="schupf-zone-partner" data-target-player-relative="2">P</div>
                <div class="schupf-zone" id="schupf-zone-opponent-left" data-target-player-relative="3">L</div>
            </div>
            <div class="player-area player-bottom" id="player-area-0">
                <div class="player-info"><span class="player-name">Ich</span><span class="card-count">0</span><img src="images/tichu-indicator.png" class="tichu-indicator hidden" alt="T"><img src="images/turn-indicator.png" class="turn-indicator hidden" alt="*"><img src="images/bomb.png" id="bomb-icon" class="hidden" alt="B"></div>
                <div class="hand own-hand" id="player-0-hand"></div>
            </div>
        </div>
        <div class="bottom-controls">
            <button id="pass-button" class="game-button" disabled>Passen</button>
            <button id="tichu-button" class="game-button" disabled>Tichu</button>
            <button id="play-cards-button" class="game-button" disabled>Spielen</button>
        </div>
    </div>

    <!-- Dialoge -->
    <div id="wish-dialog" class="dialog hidden">
        <h3>Wähle einen Kartenwert</h3>
        <div id="wish-options"></div>
        <button id="confirm-wish-button">Wünschen</button>
    </div>
    <div id="dragon-dialog" class="dialog hidden">
        <h3>Wem den Drachenstich geben?</h3>
        <button id="dragon-to-left-button">Gegner Links</button>
        <button id="dragon-to-right-button">Gegner Rechts</button>
    </div>
    <div id="round-end-dialog" class="dialog hidden">
        <h3>Runde beendet</h3>
        <p id="round-result-text">Ergebnis: 000 : 000</p>
        <button id="ok-round-end-button">Ok</button>
    </div>
    <div id="game-end-dialog" class="dialog hidden">
        <h3>Partie beendet</h3>
        <p id="game-result-text">Ergebnis: 0000 : 0000</p>
        <button id="ok-game-end-button">Zur Lobby</button>
    </div>
    <div id="leave-confirm-dialog" class="dialog hidden">
        <h3>Wirklich beenden?</h3>
        <button id="confirm-leave-button">Ja</button>
        <button id="cancel-leave-button">Nein</button>
    </div>
    <div id="error-toast" class="toast hidden">
        <p id="error-toast-message"></p>
    </div>

    <!-- Module laden (Reihenfolge ist wichtig!) -->
    <script src="js/constants.js"></script>  <!-- dynamisch generiert -->
    <script src="js/helpers.js"></script>
    <script src="js/sound-manager.js"></script>
    <script src="js/state.js"></script>
    <script src="js/network.js"></script>
    <script src="js/card-handler.js"></script>
    <script src="js/dialogs.js"></script>
    <script src="js/views/login-view.js"></script>
    <script src="js/views/lobby-view.js"></script>
    <script src="js/views/game-table-view.js"></script>
    <script src="js/view-manager.js"></script>
    <script src="js/app-controller.js"></script>
    <script src="js/main.js"></script>
</body>
</html>